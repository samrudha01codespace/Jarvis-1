from pytube import YouTube
import os


# Function to download YouTube video as audio
def download_audio(url, output_path):
    try:
        yt = YouTube(url)
        audio_stream = yt.streams.filter(only_audio=True).first()
        downloaded_file = audio_stream.download(output_path=output_path)
        base, ext = os.path.splitext(downloaded_file)
        new_file = base + '.mp3'
        os.rename(downloaded_file, new_file)
        print(f"Downloaded and converted: {new_file}")
    except Exception as e:
        print(f"An error occurred: {e}")


# List of YouTube URLs for wedding songs (add more URLs as needed)
song_urls = [
    "https://www.youtube.com/watch?v=EdA-jGuKl-s&pp=ygUZYmFuZCBiYWFqYSBiYXJhYXQgbWFyYXRoaQ%3D%3D",
    "https://www.youtube.com/watch?v=nP6AkuMMzaI",
    "https://www.youtube.com/watch?v=JLf2YK4Z_oc&pp=ygUPQWRoaXIgbWFuIGpoYWxl",
    "https://youtu.be/ZtxkgsMvPss?si=f-OIMouyy34q1Xp0",
    "https://www.youtube.com/watch?v=mqPLj0frBO8",
    "https://youtu.be/hEHNef66HT0?si=1F25twvi4ADTBRwP",
    "https://youtu.be/hEHNef66HT0?si=1F25twvi4ADTBRwP",
    "https://www.youtube.com/watch?v=eNyaMepVzGg&list=PLleyY1Z_tn8dAtBAH-Uz2-VFzMc4vqGXz&index=2&pp=iAQB8AUB",
    "https://www.youtube.com/watch?v=gAr7d-C_vYI&list=PLleyY1Z_tn8dAtBAH-Uz2-VFzMc4vqGXz&index=5&pp=iAQB8AUB",
    "https://www.youtube.com/watch?v=29uNb3_OqVQ&list=PLleyY1Z_tn8dAtBAH-Uz2-VFzMc4vqGXz&index=11&pp=iAQB8AUB",
    "https://youtu.be/B_6d3RBiEN0?si=2MNnr_GdYVWWHcj_",
    "https://www.youtube.com/watch?v=N7aEr1eR04I",
    "https://youtu.be/EdA-jGuKl-s?si=8dj17QdLNjIuKd_a",
    "https://youtu.be/MQ9fuaCVAQ4?si=29Q6nll7UAKQE12P",
    "https://youtu.be/jcE3uVRbpOM?si=3J4AUdjQfZqo8Ryg",
    "https://youtu.be/2Cy-j4Oxrqs?si=8aNd2f38e5SOoYbF",
    "https://youtu.be/bq7G1ueXLTw?si=AatTxuJJCMQdbZ-U",
    "https://youtu.be/XvjMKHe6ptk?si=tvWAp2m0uyjmfEVf",
    "https://youtu.be/oJXXLrd0vEA?si=_EjPkOKGdtWLyO94",
    "https://youtu.be/-XVffwk-yhY?si=WgVwqxTtVNW7Ihya",
    "https://youtu.be/UqRLauHw3gE?si=wAQyOUqJl9jtGJ_r",
    "https://youtu.be/29ZGK0bmS1k?si=HwNXOwDtVxOamKe_",
    "https://youtu.be/uQOaXn65Gj8?si=w9mGlmAfyFMijI8n",
    "https://youtu.be/795pT3bSUV8?si=-bBzc4tYVSAFQV0_",
    "https://youtu.be/4ArkKcbIaeY?si=MddQz-MU6SExIOX4",
    "https://youtu.be/1Y2_zfDVIAE?si=IHIIe2EHXOuMw1i_",
    "https://youtu.be/RTxi4RscGVc?si=odnBwxJG5Uq2yOs6",
    "https://youtu.be/wyCglg5UwT8?si=1hbDB166QuFGwGhV",
    "https://youtu.be/7w6zBQdNSIc?si=iVduC_7ThkiFYr1E",
    "https://youtu.be/37NqSUSi4as?si=QlM8kDZlH6bOnsvy",
    "https://youtu.be/16queOoEQl4?si=QP83nzGa-PfvRwCw",
    "https://youtu.be/nP6AkuMMzaI?si=ore8xzVEpYyLg2B2",
    "https://youtu.be/v3PNq7H8tfA?si=0VcQ26ONepVME6sI",
    "https://youtu.be/tYSrY4iPX6w?si=tvLzu_7T9HRaz0GN",
    "https://youtu.be/vE-03wB0xn4?si=pg-C_y9IbPOfdjIH",
    "https://youtu.be/ChJfNOubcQ0?si=pU6Caa8eXPSMNBht",
    "https://youtu.be/Brcyk3RDzuw?si=ODJL_LAuac7TbjcS",
    "https://youtu.be/ZtxkgsMvPss?si=M8k6AZhF-KY1Uno4"
]

# Output directory
output_directory = "marathi_wedding_albums"

# Create output directory if it doesn't exist
if not os.path.exists(output_directory):
    os.makedirs(output_directory)

# Download each song
for url in song_urls:
    download_audio(url, output_directory)
